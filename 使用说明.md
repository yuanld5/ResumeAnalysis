# 简历解析系统使用说明

## 🎯 最新版本 - 智能推理分析系统

### 🚀 一键使用方法（推荐）

**最简单的使用方式**：
```bash
python run_final_analysis.py "files/【架构部总监_成都 30-40K】Bryan 10年.pdf"
```

这个一键脚本会自动完成：
1. PDF内容提取（使用venv39环境）
2. AI智能推理分析（使用venv环境）
3. 生成完整的分析结果和预览

**Shell脚本方式**：
```bash
./run_final_analysis.sh "files/【架构部总监_成都 30-40K】Bryan 10年.pdf"
```

### 📊 智能推理标签系统

最新版本实现了与演示数据完全匹配的复杂推理标签：

- **🔧 技术能力标签**: `后端开发-高级;架构设计-高级;技术创新-高级`
- **👥 管理能力标签**: `团队协作-高级;项目管理-中级;技术沟通-高级`
- **💼 业务能力标签**: `需求分析-中级;产品理解-中级;问题解决-高级`
- **🚀 潜力标签**: `技术专家候选人;学习能力强;技术敏感度高`
- **⚠️ 风险标签**: `管理经验不足;发展路径待明确`

### 🎯 核心突破

- ✅ **智能推理**: 不只是字段提取，而是深度推理分析
- ✅ **完整标签**: 技术、管理、业务、潜力、风险五个维度
- ✅ **专业等级**: 基于实际能力推断等级，不是简单罗列
- ✅ **风险识别**: 精准识别能力短板和发展风险
- ✅ **标准输出**: 完全匹配HR系统的Excel格式要求

## 📋 传统分步使用方法

如果需要手动控制每个步骤：

### 步骤1: PDF内容提取

使用 venv39 环境运行 unstructured 提取器：

```bash
# 激活 venv39 环境
source venv39/bin/activate

# 运行PDF提取器（默认处理第一个PDF文件）
python unstructured_extractor.py

# 或指定文件索引（0, 1, 2...）
python unstructured_extractor.py 0

# 或直接指定文件路径
python unstructured_extractor.py "files/【架构部总监_成都 30-40K】Bryan 10年.pdf"
```

**输出**: 在 `middles/` 文件夹下生成 `*_extracted.txt` 文件

### 步骤2: 智能推理分析

**最新版本（推荐）**：
```bash
# 激活 venv 环境
source venv/bin/activate

# 使用最终综合格式化器进行智能推理分析
python final_comprehensive_formatter.py "middles/【架构部总监_成都 30-40K】Bryan 10年_extracted.txt"
```

**传统版本**：
```bash
# 激活 venv 环境
source venv/bin/activate

# 运行传统AI解析器（默认处理第一个中间文件）
python langextract_formatter.py

# 或指定文件索引（0, 1, 2...）
python langextract_formatter.py 0
```

**输出**: 在 `outs/` 文件夹下生成分析结果文件

## 系统架构

本系统采用分离式架构，将PDF提取和AI解析分为两个独立的步骤：

1. **PDF内容提取** (`unstructured_extractor.py`) - 使用 venv39 环境
2. **AI智能推理分析** (`final_comprehensive_formatter.py`) - 使用 venv 环境

## 环境要求

- **venv39**: Python 3.10+ 环境，用于运行 unstructured
- **venv**: Python 3.13 环境，用于运行 langextract

## 📁 文件结构

```
├── files/                          # 输入PDF文件
│   ├── 【架构部总监_成都 30-40K】Bryan 10年.pdf
│   ├── 【架构部总监_成都 30-40K】Mr.xu 10年以上.pdf
│   └── ...
├── middles/                        # 中间提取文件
│   ├── *_extracted.txt
│   └── ...
├── outs/                          # 最终格式化结果
│   ├── *_final_comprehensive.json  # 最新智能推理结果
│   ├── *_formatted.json           # 传统格式化结果
│   └── ...
├── run_final_analysis.py          # 一键分析脚本（推荐）
├── run_final_analysis.sh          # Shell一键脚本
├── final_comprehensive_formatter.py # 最新智能推理格式化器
├── unstructured_extractor.py      # PDF提取器（venv39）
├── langextract_formatter.py       # 传统AI解析器（venv）
└── .env                           # API配置
```

## 📊 输出格式对比

### 最新智能推理版本输出
```json
{
  "员工工号": "r041442",
  "姓名": "任街平",
  "所属组织": "技术研发部",
  "性别": "男",
  "出生日期": "1994-01-01",
  "手机号": "191****7892",
  "邮箱": "r414164729@163.com",
  "担任岗位": "高级Python开发工程师",
  "职级": "P6-高级级",
  "参加工作时间": "2017-07-01",
  "工作经验(年)": "9",
  "技术能力标签": "后端开发-高级;架构设计-高级;技术创新-高级",
  "管理能力标签": "团队协作-高级;项目管理-中级;技术沟通-高级",
  "业务能力标签": "需求分析-中级;产品理解-中级;问题解决-高级",
  "潜力标签": "技术专家候选人;学习能力强;技术敏感度高",
  "风险标签": "管理经验不足;发展路径待明确"
}
```

### 传统版本输出
传统版本生成的JSON文件包含以下结构化信息：

- **个人信息**: 姓名、性别、年龄、联系方式等
- **求职信息**: 工作时长、求职意向、期望薪资等
- **工作经历**: 公司、职位、时间、描述、成果
- **教育背景**: 学校、专业、学历、时间
- **项目经历**: 项目名称、时间、技术栈、描述、职责
- **技能专长**: 编程语言、框架、数据库、容器等
- **自我评价**: 个人评价和优势

## 🔧 API配置

确保 `.env` 文件中配置了正确的API密钥：

```
QWEN_API_KEY=your_qwen_api_key
DEEPSEEK_API_KEY=your_deepseek_api_key
```

## ✨ 系统特点

### 最新智能推理版本
- ✅ **智能推理**: 不只是字段提取，而是深度推理分析
- ✅ **完整标签**: 技术、管理、业务、潜力、风险五个维度
- ✅ **专业等级**: 基于实际能力推断等级，不是简单罗列
- ✅ **风险识别**: 精准识别能力短板和发展风险
- ✅ **标准输出**: 完全匹配HR系统的Excel格式要求
- ✅ **一键使用**: 自动化完整流程，简单易用

### 传统版本特点
- ✅ **使用unstructured**: 采用混合方法（pdfminer + unstructured文本分区）
- ✅ **AI智能提取**: 通过Qwen/DeepSeek API实现高质量结构化提取
- ✅ **分离式架构**: 两个独立环境，避免依赖冲突
- ✅ **完整信息覆盖**: 提取简历中的所有关键信息
- ✅ **高准确率**: 智能区分工作经历和项目经历

## 📝 使用建议

1. **推荐使用一键脚本**: `python run_final_analysis.py` 是最简单可靠的方式
2. **智能推理版本**: 适合HR系统集成，生成标准化的评估标签
3. **传统版本**: 适合详细信息提取和自定义处理

## ⚠️ 注意事项

1. 确保两个虚拟环境都已正确安装依赖
2. PDF文件放在 `files/` 目录下
3. 检查API密钥配置是否正确
4. 网络连接正常（AI分析需要网络）
5. 使用一键脚本时，确保文件路径正确

## 🆕 版本更新

- **v3.0 (最新)**: 智能推理分析系统，完全匹配演示数据复杂度
- **v2.0**: 分离式架构，支持unstructured和langextract
- **v1.0**: 基础PDF解析和信息提取