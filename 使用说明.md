# 简历解析系统使用说明

## 系统架构

本系统采用分离式架构，将PDF提取和AI解析分为两个独立的步骤：

1. **PDF内容提取** (`unstructured_extractor.py`) - 使用 venv39 环境
2. **AI智能解析** (`langextract_formatter.py`) - 使用 venv 环境

## 环境要求

- **venv39**: Python 3.10+ 环境，用于运行 unstructured
- **venv**: Python 3.13 环境，用于运行 langextract

## 使用步骤

### 步骤1: PDF内容提取

使用 venv39 环境运行 unstructured 提取器：

```bash
# 激活 venv39 环境
source venv39/bin/activate

# 运行PDF提取器（默认处理第一个PDF文件）
python unstructured_extractor.py

# 或指定文件索引（0, 1, 2...）
python unstructured_extractor.py 0
```

**输出**: 在 `middles/` 文件夹下生成 `*_extracted.txt` 文件

### 步骤2: AI智能解析

使用 venv 环境运行 langextract 格式化器：

```bash
# 激活 venv 环境
source venv/bin/activate

# 运行AI解析器（默认处理第一个中间文件）
python langextract_formatter.py

# 或指定文件索引（0, 1, 2...）
python langextract_formatter.py 0
```

**输出**: 在 `outs/` 文件夹下生成 `*_formatted.json` 文件

## 文件结构

```
├── files/                          # 输入PDF文件
│   ├── 【架构部总监_成都 30-40K】Bryan 10年.pdf
│   ├── 【架构部总监_成都 30-40K】Mr.xu 10年以上.pdf
│   └── ...
├── middles/                        # 中间提取文件
│   ├── *_extracted.txt
│   └── ...
├── outs/                          # 最终格式化结果
│   ├── *_formatted.json
│   └── ...
├── unstructured_extractor.py      # PDF提取器（venv39）
├── langextract_formatter.py       # AI解析器（venv）
└── .env                           # API配置
```

## 输出格式

最终生成的JSON文件包含以下结构化信息：

- **个人信息**: 姓名、性别、年龄、联系方式等
- **求职信息**: 工作时长、求职意向、期望薪资等
- **工作经历**: 公司、职位、时间、描述、成果
- **教育背景**: 学校、专业、学历、时间
- **项目经历**: 项目名称、时间、技术栈、描述、职责
- **技能专长**: 编程语言、框架、数据库、容器等
- **自我评价**: 个人评价和优势

## API配置

确保 `.env` 文件中配置了正确的API密钥：

```
QWEN_API_KEY=your_qwen_api_key
DEEPSEEK_API_KEY=your_deepseek_api_key
```

## 特点

- ✅ **使用unstructured**: 采用混合方法（pdfminer + unstructured文本分区）
- ✅ **AI智能提取**: 通过Qwen/DeepSeek API实现高质量结构化提取
- ✅ **分离式架构**: 两个独立环境，避免依赖冲突
- ✅ **完整信息覆盖**: 提取简历中的所有关键信息
- ✅ **高准确率**: 智能区分工作经历和项目经历

## 注意事项

1. 确保两个虚拟环境都已正确安装依赖
2. PDF文件放在 `files/` 目录下
3. 按顺序执行两个步骤
4. 检查API密钥配置是否正确